{
  "data" : {
    "model" : {
      "targetFolder" : {
        "file" : {
          "path" : {
            "fsCategory" : "LOCAL",
            "path" : "",
            "timeout" : 10000,
            "context" : {
              "fsToString" : "(LOCAL, )"
            }
          }
        },
        "createMissingFolders" : false
      },
      "dirPathVariableName" : "folder_path",
      "additionalPathVariables" : [ ]
    }
  },
  "schema" : {
    "type" : "object",
    "properties" : {
      "model" : {
        "type" : "object",
        "properties" : {
          "additionalPathVariables" : {
            "type" : "array",
            "items" : {
              "type" : "object",
              "properties" : {
                "extension" : {
                  "type" : "string",
                  "title" : "File extension",
                  "description" : "Optional file extension (e.g., .txt, .csv). Leave empty for folder variables.",
                  "default" : ""
                },
                "path" : {
                  "type" : "string",
                  "title" : "Path",
                  "description" : "The path relative to the temporary directory.",
                  "default" : ""
                },
                "variableName" : {
                  "type" : "string",
                  "title" : "Variable name",
                  "description" : "The name of the path variable.",
                  "default" : ""
                }
              }
            },
            "title" : "Additional path variables",
            "description" : "A list of additional variables that will be created by the node. Each variable will denote\na path to a file or folder.\n",
            "default" : [ ]
          },
          "dirPathVariableName" : {
            "type" : "string",
            "title" : "Export path as (variable name)",
            "description" : "The name of the exported variable denoting the actual path of the created folder.",
            "default" : "folder_path"
          },
          "fileSystemManagedByPortMessage" : {
            "type" : "object"
          },
          "targetFolder" : {
            "type" : "object",
            "properties" : {
              "createMissingFolders" : {
                "type" : "boolean",
                "title" : "Create missing folders",
                "description" : "If enabled, missing folders in the specified path will be created automatically.",
                "default" : false
              },
              "file" : {
                "type" : "object",
                "properties" : {
                  "path" : {
                    "type" : "object",
                    "default" : {
                      "fsCategory" : "LOCAL",
                      "path" : "",
                      "timeout" : 10000,
                      "context" : {
                        "fsToString" : "(LOCAL, )"
                      }
                    }
                  }
                },
                "title" : "Folder",
                "description" : "Select a file system and location for creating the folder.",
                "default" : {
                  "path" : {
                    "fsCategory" : "LOCAL",
                    "path" : "",
                    "timeout" : 10000,
                    "context" : {
                      "fsToString" : "(LOCAL, )"
                    }
                  }
                }
              }
            },
            "default" : {
              "file" : {
                "path" : {
                  "fsCategory" : "LOCAL",
                  "path" : "",
                  "timeout" : 10000,
                  "context" : {
                    "fsToString" : "(LOCAL, )"
                  }
                }
              },
              "createMissingFolders" : false
            }
          }
        }
      }
    }
  },
  "ui_schema" : {
    "elements" : [ {
      "label" : "Output Location",
      "type" : "Section",
      "elements" : [ {
        "type" : "Control",
        "id" : "#/properties/model/properties/fileSystemManagedByPortMessage",
        "options" : {
          "format" : "textMessage"
        },
        "providedOptions" : [ "message" ]
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/targetFolder/properties/file",
        "options" : {
          "fileSystems" : [ "LOCAL", "SPACE", "EMBEDDED" ],
          "isLocal" : true,
          "isWriter" : true,
          "selectionMode" : "FOLDER",
          "spaceFSOptions" : {
            "mountId" : "Local space"
          },
          "format" : "fileChooser"
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/targetFolder/properties/createMissingFolders",
        "options" : {
          "format" : "checkbox"
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/dirPathVariableName"
      } ]
    }, {
      "label" : "Additional Path Variables",
      "type" : "Section",
      "description" : "A list of additional variables that will be created by the node. Each variable will denote a path to a file or folder.",
      "elements" : [ {
        "type" : "Control",
        "scope" : "#/properties/model/properties/additionalPathVariables",
        "options" : {
          "detail" : [ {
            "type" : "Control",
            "scope" : "#/properties/variableName",
            "options" : {
              "validation" : {
                "pattern" : {
                  "errorMessage" : "The field cannot be blank (it must contain at least one non-whitespace character).",
                  "parameters" : {
                    "pattern" : ".*\\S.*"
                  }
                }
              }
            }
          }, {
            "type" : "Control",
            "scope" : "#/properties/path"
          }, {
            "type" : "Control",
            "scope" : "#/properties/extension"
          } ],
          "addButtonText" : "Add path variable",
          "arrayElementTitle" : "Path variable"
        }
      } ]
    } ]
  },
  "persist" : {
    "type" : "object",
    "properties" : {
      "model" : {
        "type" : "object",
        "properties" : {
          "fileSystemManagedByPortMessage" : { },
          "targetFolder" : {
            "type" : "object",
            "properties" : {
              "file" : {
                "configPaths" : [ [ "path" ] ]
              },
              "createMissingFolders" : {
                "configKey" : "create_missing_folders"
              }
            },
            "configKey" : "dir_location"
          },
          "dirPathVariableName" : {
            "configKey" : "dir_path_variable_name"
          },
          "additionalPathVariables" : {
            "configPaths" : [ [ "additional_path_variables", "variable_names" ], [ "additional_path_variables", "path_values" ], [ "additional_path_variables", "file_extensions" ] ]
          }
        }
      }
    }
  },
  "initialUpdates" : [ {
    "id" : "#/properties/model/properties/fileSystemManagedByPortMessage",
    "providedOptionName" : "message",
    "values" : [ {
      "indices" : [ ],
      "value" : null
    } ]
  } ]
}