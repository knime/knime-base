{
  "data" : {
    "model" : {
      "classColumn" : "Cluster Membership",
      "k" : 3,
      "weightByDistance" : false,
      "outputClassProbabilities" : false
    }
  },
  "schema" : {
    "type" : "object",
    "properties" : {
      "model" : {
        "type" : "object",
        "properties" : {
          "classColumn" : {
            "type" : "string",
            "title" : "Column with class labels",
            "description" : "Select the column to be used as classification attribute. This column must contain nominal values."
          },
          "k" : {
            "type" : "integer",
            "format" : "int32",
            "title" : "Number of neighbors to consider (k)",
            "description" : "The number of nearest neighbors used to classify a new instance. An odd number is recommended to avoid ties.\n",
            "default" : 3
          },
          "outputClassProbabilities" : {
            "type" : "boolean",
            "title" : "Output class probabilities",
            "description" : "If enabled, additional columns containing the class probabilities for each predicted class\nwill be appended to the output.",
            "default" : false
          },
          "weightByDistance" : {
            "type" : "boolean",
            "title" : "Weight neighbors by distance",
            "description" : "If enabled, the distance of each neighbor to the query pattern influences its weight\nin the classification. Closer neighbors have greater influence on the result.\nNote: Only k neighbors are considered, regardless of weighting.",
            "default" : false
          }
        }
      }
    }
  },
  "ui_schema" : {
    "elements" : [ {
      "type" : "Control",
      "scope" : "#/properties/model/properties/classColumn",
      "options" : {
        "format" : "dropDown"
      },
      "providedOptions" : [ "possibleValues" ]
    }, {
      "type" : "Control",
      "scope" : "#/properties/model/properties/k",
      "options" : {
        "validation" : {
          "max" : {
            "errorMessage" : "The value must not exceed 1000.",
            "parameters" : {
              "isExclusive" : false,
              "max" : 1000.0
            }
          },
          "min" : {
            "errorMessage" : "The value must be at least 1.",
            "parameters" : {
              "isExclusive" : false,
              "min" : 1.0
            }
          }
        }
      }
    }, {
      "type" : "Control",
      "scope" : "#/properties/model/properties/weightByDistance",
      "options" : {
        "format" : "checkbox"
      }
    }, {
      "type" : "Control",
      "scope" : "#/properties/model/properties/outputClassProbabilities",
      "options" : {
        "format" : "checkbox"
      }
    } ]
  },
  "persist" : {
    "type" : "object",
    "properties" : {
      "model" : {
        "type" : "object",
        "properties" : {
          "classColumn" : {
            "configKey" : "classColumn"
          },
          "k" : {
            "configKey" : "k"
          },
          "weightByDistance" : {
            "configKey" : "weightByDistance"
          },
          "outputClassProbabilities" : {
            "configKey" : "outputClassProbabilities"
          }
        }
      }
    }
  },
  "initialUpdates" : [ {
    "scope" : "#/properties/model/properties/classColumn",
    "providedOptionName" : "possibleValues",
    "values" : [ {
      "indices" : [ ],
      "value" : [ {
        "id" : "Cluster Membership",
        "text" : "Cluster Membership",
        "type" : {
          "id" : "org.knime.core.data.StringValue",
          "text" : "String"
        }
      } ]
    } ]
  } ],
  "globalUpdates" : [ {
    "trigger" : {
      "id" : "after-open-dialog"
    },
    "triggerInitially" : true,
    "dependencies" : [ "#/properties/model/properties/classColumn" ]
  } ]
}